<!DOCTYPE html>
<html>

<head>
    <title>Calculator</title>
    <link rel="stylesheet" type="text/css" href="mystyles.css">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>

<body>

    <header>
        <br>
        <h1>Calculator</h1><br>
    </header>

    <br>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <div id="calculator">
                    <div id="display">
                        <center>
                            <p id="result"></p>
                        </center>
                    </div>

                    <table id="table1">
                        <tr>
                            <center>
                                <button onclick="buttonDeg()" type="button" id="button1">Deg</button>
                                <button onclick="buttonFacto()" type="button" id="button1">x!</button>
                                <button onclick="buttonParenthese1()" type="button" id="button1">(</button>
                                <button onclick="buttonParenthese2()" type="button" id="button1">)</button>
                                <button onclick="buttonPourcent()" type="button" id="button1">%</button>
                                <button onclick="buttonAC()" type="button" id="button1">AC</button>
                            </center>
                        </tr>

                        <tr>
                            <center>
                                <button onclick="buttonSin()" type="button" id="button1">sin</button>
                                <button onclick="buttonLn()" type="button" id="button1">ln</button>
                                <button onclick="valeur(7)" type="button" id="button2" value="7">7</button>
                                <button onclick="valeur(8)" type="button" id="button2" value="8">8</button>
                                <button onclick="valeur(9)" type="button" id="button2" value="9">9</button>
                                <button onclick="buttonDivision()" type="button" id="button1">÷</button>
                            </center>
                        </tr>

                        <tr>
                            <center>
                                <button onclick="buttonCos()" type="button" id="button1">cos</button>
                                <button onclick="buttonLog()" type="button" id="button1">log</button>
                                <button onclick="valeur(4)" type="button" id="button2" value="4">4</button>
                                <button onclick="valeur(5)" type="button" id="button2" value="5">5</button>
                                <button onclick="valeur(6)" type="button" id="button2" value="6">6</button>
                                <button onclick="buttonMultiple()" type="button" id="button1">×</button>
                            </center>
                        </tr>

                        <tr>
                            <center>
                                <button onclick="buttonTan()" type="button" id="button1">tan</button>
                                <button onclick="buttonRacine()" type="button" id="button1">√</button>
                                <button onclick="valeur(1)" type="button" id="button2" value="1">1</button>
                                <button onclick="valeur(2)" type="button" id="button2" value="2">2</button>
                                <button onclick="valeur(3)" type="button" id="button2" value="3">3</button>
                                <button onclick="buttonSoustraction()" type="button" id="button1">-</button>
                            </center>
                        </tr>

                        <tr>
                            <center>
                                <button onclick="buttonExp()" type="button" id="button1">EXP</button>
                                <button onclick="buttonPuissance()" type="button" id="button1">x<sup>y<sup></sup></button>
                                <button onclick="valeur(0)" type="button" id="button2" value="0">0</button>
                                <button onclick="buttonPoint()" type="button" id="button2">.</button>
                                <button onclick="buttonEgal()" type="button" id="button3">=</button>
                                <button onclick="buttonAddition()" type="button" id="button1">+</button>
                            </center>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>

        var calcul = "";

        function valeur(val) {
            document.getElementById("result").innerHTML += val;
            calcul += val;
        }
        function buttonAC() {
            document.getElementById("result").innerHTML = "";
            calcul = "";
        }
        function buttonAddition() {
            document.getElementById("result").innerHTML += "+";
            calcul += "+";
        }
        function buttonSoustraction() {
            document.getElementById("result").innerHTML += "-";
            calcul += "-";
        }
        function buttonMultiple() {
            document.getElementById("result").innerHTML += "*";
            calcul += "*";
        }
        function buttonDivision() {
            document.getElementById("result").innerHTML += "/";
            calcul += "/";
        }

        function buttonCos() {
            document.getElementById("result").innerHTML += "cos(";
            calcul += "Math.cos(";
        }
        function buttonSin() {
            document.getElementById("result").innerHTML += "sin(";
            calcul += "Math.sin(";
        }
        function buttonTan() {
            document.getElementById("result").innerHTML += "tan(";
            calcul += "Math.tan(";
        }
        function buttonLn() {
            document.getElementById("result").innerHTML += "ln(";
            calcul += "Math.log(";
        }
        function buttonLog() {
            document.getElementById("result").innerHTML += "log(";
            calcul += "Math.log(";
        }

        function buttonExp() {
            document.getElementById("result").innerHTML += "exp(";
            calcul += "Math.exp(";
        }
        function buttonRacine() {
            document.getElementById("result").innerHTML += "√(";
            calcul += "Math.sqrt(";
        }

        function buttonFacto() {
            document.getElementById("result").innerHTML += "!";
            calcul += "!";
        }

        function buttonPourcent() {
            var a = document.getElementById("result").innerHTML;
            document.getElementById("result").innerHTML += "%";
            a = a/100;
            calcul = a;
        }

        function buttonPuissance() {
            
            calcul = "Math.pow(";
            calcul += document.getElementById("result").innerHTML;
            calcul += ",";
            document.getElementById("result").innerHTML += "^(";
            console.log(calcul);
        }

        function buttonParenthese1() {
            document.getElementById("result").innerHTML += "(";
            calcul += "(";
        }
        function buttonParenthese2() {
            document.getElementById("result").innerHTML += ")";
            calcul += ")";
        }

        function buttonEgal() {

            var facto = 0;
            var f = "";
            var a = 1;

            for (i = 0; i < document.getElementById("result").innerHTML.length; i++) {
                if (document.getElementById("result").innerHTML[i] == "!") {
                    facto = 1;
                }
            }

            for (i = 0; i < document.getElementById("result").innerHTML.length; i++) {
                if (document.getElementById("result").innerHTML[i] != "!") {
                    f += document.getElementById("result").innerHTML[i];
                }
            }

            if (facto == 1) {
                for (var i = 1; i <= parseInt(f); i++) {
                    a = a * i;
                }
                calcul = a;
                facto = 0;
            }

            var egal = eval(calcul);
            document.getElementById('result').innerHTML = egal;
        }

    </script>

</body>

</html>
